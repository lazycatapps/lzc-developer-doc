v1.3.8 2025-6-xx日发布

# 功能调整

- 新增在应用列表中编辑环境变量的支持(管理员在系统设置->应用列表中访问相关UI)
- 新增[应用部署机制](../advanced-manifest-render)
- 新增lzcapp运行时文件：/lzcapp/run/manifest.yml  (/lzcapp/pkg/manifest.yml为lpk中的原始内容)，以便系统和lzcapp可以使用统一的路径前缀
- 新增部署时环境变量`LAZYCAT_DEPLOY_ID`
- 新增`manifest.yml:ext_config.default_prefix_domain`
- 新增tcp-ingress[转发80/443流量](../advanced-l4forward)的支持
- 新增`manifest.yml:application.file_handler`的[通配符支持](../advanced-mime)
- 新增`/lzcapp/document/`、`/lzcapp/media/`这个两个lzcapp运行时目录(lzcos同样新增了这两个目录)
- 新增`manifest.yml:services[].mem_limit`
- 新增`manifest.yml:services[].shm_size`
- 新增[manifest.yml:UpstreamConfig](../advanced-route#upstreamconfig)以便支持基于域名前缀的分流，以及跳过TLS证书验证等功能
- 新增[sysbox-runc](../spec/manifest#container-config)运行时，以便在不需要而且权限的前提下，运行dockerd,systemd等特权进程。
- 新增启动器中显示应用日志入口(需要安装开发者工具v0.3.0+)
- 修复/dev/shm/的权限为正常的1777
- 修复`setup_scripts`执行时的`HOME`环境变量
- 捕获更多lpk启动过程中出错的信息给前端界面
- `/lzcapp/var`目录权限调整为1777以便减少部分容器的适配工作


# 兼容性调整

- `/data/app/var/$pkg_id/$uid` 目录调整为 `/data/appvar/$deloy_id`
-  pkgm/ss: 兼容 QueryApplication.TodoRemoveAppidList
- /data/system/pkgm/cfgs目录彻底废弃，相关信息统一存放到system/pkgm/deploy.{db,var}中
- 移除默认给所有容器添加的`seccomp=unconfined`和`apparmor=unconfined`
- `/data/document/`调整为readonly，避免应用错误在这里创建子目录。
- `application.background`字段调整为建议性作用，默认不开启自启动
- 移除`/data/system/pkgm/apps/$appid$/docker-compose.yml`这个临时文件


# 严重不兼容性说明

系统升级到v1.3.8+后如果执行系统降级操作，则所有应用数据会无法使用。(文稿数据不影响，且应用数据本身还在数据盘中)

原因是为后续更灵活的部署逻辑做支撑，appvar的逻辑从`$pkd_id/$uid`调整为`$deploy_id`了以便去掉uid的概念。
若回滚到低版本系统，则应用内部数据会被重新初始化创建。
