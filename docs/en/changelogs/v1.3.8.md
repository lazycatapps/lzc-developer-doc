v1.3.8+fix.1 Released on 2025-7-4

# Feature Changes

- Added support for editing environment variables in application list (administrators access related UI in System Settings -> Application List)
- Added [Application Deployment Mechanism](../advanced-manifest-render)
- Added lzcapp runtime file: /lzcapp/run/manifest.yml  (/lzcapp/pkg/manifest.yml is the original content in lpk)
- Added deployment environment variable `LAZYCAT_DEPLOY_ID`
- Added `manifest.yml:ext_config.default_prefix_domain`
- Added support for tcp-ingress [forwarding 80/443 traffic](../advanced-l4forward)
- Added [wildcard support](../advanced-mime) for `manifest.yml:application.file_handler`
- Added two lzcapp runtime directories `/lzcapp/document/` and `/lzcapp/media/` (lzcos also added these two directories so system and lzcapp can use unified path prefix), corresponding to previous `/lzcapp/run/mnt/home` and `/lzcapp/run/mnt/media`
- Added `manifest.yml:services[].mem_limit`
- Added `manifest.yml:services[].shm_size`
- Added [manifest.yml:UpstreamConfig](../advanced-route#upstreamconfig) to support domain prefix-based routing, skipping TLS certificate verification and other functions
- Added [sysbox-runc](../spec/manifest#container-config) runtime to run privileged processes like dockerd, systemd without needing and permissions.
- Added application log entry in launcher (requires Developer Tools v0.3.0+)
- Fixed /dev/shm/ permissions to normal 1777
- Fixed `HOME` environment variable when executing `setup_scripts`
- Capture more error information during lpk startup process for frontend interface
- Adjusted `/lzcapp/var` directory permissions to 1777 to reduce adaptation work for some containers


# Compatibility Changes

- `/data/app/var/$pkg_id/$uid` directory adjusted to `/data/appvar/$deloy_id`
-  pkgm/ss: Compatible with QueryApplication.TodoRemoveAppidList
- /data/system/pkgm/cfgs directory completely deprecated, related information uniformly stored in system/pkgm/deploy.{db,var}
- Removed default `seccomp=unconfined` and `apparmor=unconfined` added to all containers
- `/data/document/` adjusted to readonly to prevent applications from incorrectly creating subdirectories here. (Some applications cannot be installed on new systems, already installed ones are not affected)
   Official is contacting developers of scanned related applications to assist with migration.
- `application.background` field adjusted to advisory role, default does not enable auto-start
- Removed temporary file `/data/system/pkgm/apps/$appid$/docker-compose.yml`


# Serious Incompatibility Notice

After system upgrade to v1.3.8+, if system downgrade is performed, all application data will be unusable. (Document data is not affected, and application data itself is still on the data disk)

The reason is to support more flexible deployment logic in the future. The appvar logic has been adjusted from `$pkd_id/$uid` to `$deploy_id` to remove the uid concept.
If rolling back to a lower version system, application internal data will be re-initialized and created.
